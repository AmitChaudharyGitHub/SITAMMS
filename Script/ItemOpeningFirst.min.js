function SaveStock(){alert("Ak");var t=SaveOpening;if(0!=$("#Projects option:selected").val())if(0!=$("#Items option:selected").val()){if(0!=$("#Opening").val()&&""!=$("#Opening").val())return null==$("#TotalPurchase").val()&&($("#TotalPurchase").val()=0),null==$("#Rate").val()&&($("#Rate").val()=0),null==$("#TotalIssue").val()&&($("#TotalIssue").val()=0),null==$("#Theoritical").val()&&($("#Theoritical").val()=0),null==$("#Physical").val()&&($("#Physical").val()=0),null==$("#Difference").val()&&($("#Difference").val()=0),null==$("#TStockValue").val()&&($("#TStockValue").val()=0),null==$("#PStockValue").val()&&($("#PStockValue").val()=0),$("#dvLoading").show(),$.ajax({url:t,type:"GET",data:{Project:$("#Projects option:selected").val(),ItemGroup:$("#ItemGroups option:selected").val(),Item:$("#Items option:selected").val(),Unit:$("#Unit").attr("uid"),TotalPurchase:$("#TotalPurchase").val(),Rate:$("#Rate").val(),TotalIssue:$("#TotalIssue").val(),Theoritical:$("#Theoritical").val(),Physical:$("#Physical").val(),Difference:$("#Difference").val(),TStockValue:$("#TStockValue").val(),PStockValue:$("#PStockValue").val(),ProjectName:$("#Projects option:selected").text(),LastOpening:$("#LastOpening").val()},complete:function(){$("#dvLoading").hide()},success:function(t){"1"==t&&($("#myModal").modal("show"),$("#Opening").val(""),FindOneItemLastOpeningInSite())}}),!1;alert("Give Quantity")}else alert("Enter Item");else alert("Enter Project")}$(document).ready(function(){window.GetPrj=function(t){return $("#dvLoading").show(),$.ajax({type:"POST",url:GetProjectByEmpId,dataType:"json",data:{E:ss},complete:function(){$("#dvLoading").hide()},success:function(t){var e="<option value='0'> Please wait...</option>";$("#Projects").html(e).show();var a="<option value='0'>Select Project</option>";$("#Projects").html(a).show(),t=$.parseJSON(t);var l=$("#Projects");$.each(t,function(t,e){l.append($("<option/>",{value:e.Value,text:e.Text}))}),$("#Projects").prop("selectedIndex",1)},error:function(t){alert("Failed to retrieve Project."+t)}}),!1},GetPrj()}),$(document).ready(function(){$("#ItemGroups").change(function(){return $("#Items").empty(),$("#Items").append($("<option></option").val("").html("Select Item Name")),$("#dvLoading").show(),$.ajax({type:"POST",url:GetItemByGroup,dataType:"json",data:{id:$("#ItemGroups").val()},complete:function(){$("#dvLoading").hide()},success:function(t){t=$.parseJSON(t),$.each(t,function(t,e){$("#Items").append('<option value="'+e.Value+'">'+e.Text+"</option>")}),FindAllGroupLastOpeningInSite()},error:function(t){alert("Failed to retrieve Item Name."+t)}}),!1}),$("#Projects").change(function(){$("#grid").empty()})}),$(document).ready(function(){function t(){var t=$("#LastOpening").val(),e=$("#TotalPurchase").val(),a=$("#TotalIssue").val();(""==t||null==t)&&(t=0),(""==e||null==e)&&(e=0),(""==a||null==a)&&(a=0);var l=+t+ +e-+a;$("#Theoritical").val(l)}function e(){var t=$("#Theoritical").val(),e=$("#Rate").val();(""==e||null==e)&&(e=0),(""==t||null==t)&&(t=0);var a=+t*+e;$("#TStockValue").val(a)}function a(){var t=$("#Physical").val(),e=$("#Rate").val();(""==e||null==e)&&(e=0),(""==t||null==t)&&(t=0);var a=+t*+e;$("#PStockValue").val(a)}function l(){var t=$("#Physical").val(),e=$("#Theoritical").val();(""==e||null==e)&&(e=0),(""==t||null==t)&&(t=0);var a=+e-+t;$("#Difference").val(a)}$("#TotalPurchase").keyup(function(){t()}),$("#TotalIssue").keyup(function(){t()}),$("#Rate").keyup(function(){e(),a()}),$("#Theoritical").keyup(function(){e(),l()}),$("#Physical").keyup(function(){a(),l()}),window.CalStock=function(){t(),l(),e(),a()}}),$(document).ready(function(){$("#Items").change(function(){return $("#Unit").empty(),$("#LastOpening").val(""),$("#TotalPurchase").val(""),$("#Rate").val(""),$("#TotalIssue").val(""),$("#Theoritical").val(""),$("#Physical").val(""),$("#Difference").val(""),$("#TStockValue").val(""),$("#PStockValue").val(""),$("#dvLoading").show(),$.ajax({type:"POST",url:GetItemDetail2,dataType:"json",data:{id:$("#Items").val(),pid:$("#Projects").val()},complete:function(){$("#dvLoading").hide()},success:function(t){t=$.parseJSON(t),$("#Unit").val(t.Unit),$("#Unit").attr("uid",t.UnitNo),$("#LastOpening").val(t.Opening),$("#TotalPurchase").val(t.Purchase),$("#TotalIssue").val(t.Issue)},error:function(t){alert("Failed to retrieve Make."+t)}}),!1})}),window.FindAllGroupLastOpeningInSite=function(){var t=GetAllGroupLastOpeningInSite;return 0!=$("#Projects option:selected").val()&&0!=$("#ItemGroups option:selected").val()?($("#dvLoading").show(),$.ajax({url:t,type:"GET",data:{Project:$("#Projects option:selected").val(),ItemGroup:$("#ItemGroups option:selected").val()},complete:function(){$("#dvLoading").hide()},success:function(t){$("#grid").empty(),item=$.parseJSON(t),null!=item&&$.each(item,function(t,e){$("#grid").prepend("<tr class='danger _tempRow'><td>"+e.ItemGroupName+"</td><td>"+e.ItemName+"</td><td>"+e.tblItemMasterStock.LastOpening+"</td><td>"+e.tblItemMasterStock.TotalPurchase+"</td><td>"+e.tblItemMasterStock.TotalIssue+"</td><td>"+e.tblItemMasterStock.TheoriticalQty+"</td><td>"+e.tblItemMasterStock.PhysicalQty+"</td><td>"+e.tblItemMasterStock.DiffFromTheoritical+"</td><td>"+e.tblItemMasterStock.Rate+"</td><td>"+e.tblItemMasterStock.TStockValue+"</td><td>"+e.tblItemMasterStock.PStockValue+"</td></tr>")})}}),!1):void 0},window.FindOneItemLastOpeningInSite=function(){var t=GetOneItemLastOpeningInSite;return 0!=$("#Projects option:selected").val()&&0!=$("#Items option:selected").val()?($("#dvLoading").show(),$.ajax({url:t,type:"GET",data:{Project:$("#Projects option:selected").val(),Item:$("#Items option:selected").val()},complete:function(){$("#dvLoading").hide()},success:function(t){$("#grid").empty(),item=$.parseJSON(t),null!=item&&$.each(item,function(t,e){$("#grid").prepend("<tr class='danger _tempRow'><td>"+e.ItemGroupName+"</td><td>"+e.ItemName+"</td><td>"+e.tblItemMasterStock.LastOpening+"</td><td>"+e.tblItemMasterStock.TotalPurchase+"</td><td>"+e.tblItemMasterStock.TotalIssue+"</td><td>"+e.tblItemMasterStock.TheoriticalQty+"</td><td>"+e.tblItemMasterStock.PhysicalQty+"</td><td>"+e.tblItemMasterStock.DiffFromTheoritical+"</td><td>"+e.tblItemMasterStock.Rate+"</td><td>"+e.tblItemMasterStock.TStockValue+"</td><td>"+e.tblItemMasterStock.PStockValue+"</td></tr>")})}}),!1):void 0},$(document).ready(function(){$(".DatePicker").datepicker({dateFormat:"dd M yy",changeMonth:!0,changeYear:!0}).val("")});