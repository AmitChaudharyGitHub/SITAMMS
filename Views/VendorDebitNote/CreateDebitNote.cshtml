@model List<MMS.Models.VendorSearchItem>
@{
    ViewBag.Title = "Create Vendor Debit Note";
    string layout = "";
    var cheking = Session["EmailCheck"].ToString();
    if (cheking == "admin@sitanet.in")
    {
        layout = "~/Views/Shared/_AdminLayout.cshtml";
    }
    else
    {
        layout = "~/Views/Shared/_Layout.cshtml";
    }

    Layout = layout;
}

<script type="text/javascript">
   
</script>
<script src="~/Scripts/jquery-1.10.2.js"></script>
<script src="~/Script/VendorDebitNote.js?v=1.4"></script>



<section id="content_wrapper">
    <!-- Begin: Content -->
    <section id="content" class="table-layout animated fadeIn">

        <!-- begin: .tray-center -->
        <div class="tray tray-center">

            <div class="mw1000 center-block">
                <form id="frmDebitNoteData" method="post" action="/VendorDebitNote/SaveDebitNote">
                    <div class="admin-form theme-primary">
                        <!-- Begin: Content Header -->
                        <!-- Begin: Admin Form -->
                        <div class="form-headerStyle theme-primary">

                            <div class="panel heading-border">
                                <div class="panel-body bg-light">
                                    <div class="section-divider mb40" id="spy1">
                                        <span style="color:#4a89dc">Vendor Debit Note</span>
                                    </div>
                                    <!-- .section-divider -->
                                    <!-- Basic Inputs -->

                                    <div class="form-horizontal">

                                        <div class="row">

                                            <div class="col-md-12">

                                                <table class="table table-bordered text-left">
                                                    <thead>
                                                        <tr>
                                                            <th><strong>Project Name & Adddress</strong></th>
                                                            <th><strong>GST No.</strong></th>
                                                            <th><strong>Vendor Name and Address</strong></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>@ViewBag.ProjectName<br />@ViewBag.SiteAddress</td>
                                                            <td>@ViewBag.GSTNo</td>
                                                            <td>@ViewBag.VendorName <br /> @ViewBag.VendorAddress</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">

                                                <table class="table table-bordered text-left">
                                                    <thead>
                                                        <tr>
                                                            <th><strong>PO No.</strong></th>
                                                            <th><strong>PO Date</strong></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><label id="PONo"><a href="javascript:void(0)" data="@ViewBag.PONo" id="linkViewPODetails">@ViewBag.PONo</a></label></td>
                                                            <td><label id="PODate">@ViewBag.PODate</label></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="col-md-3">
                                                    <input type="text" id="txtDebitNoteDate" class="form-control" placeholder="Select Debit Note Date" autocomplete="off" />
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" id="txtDebitNoteNo" class="form-control" readonly="readonly" placeholder="Debit Note No." />
                                                </div>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="col-md-3">
                                                    <input type="text" id="txtReason" name="name" value="" class="form-control required1" field="Reason" placeholder="Reason for Debit Note" autocomplete="off" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <br /><br />
                                    <div class="row">
                                        <div class="col-md-12">
                                            @Html.Partial("_ItemCalculationView", Model)
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>


                        <div id="formdata">

                        </div>

                        <div class="row">
                            <div class="col-md-12">

                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <td class="col-md-2"> Total Rate  </td>
                                                <td class="col-md-2"> Sum Of Total  </td>
                                                <td class="col-md-2"> Sum Of Packing Charges  </td>
                                                <td class="col-md-2"> Sum of Cartage  </td>
                                                <td class="col-md-2">Sum of Sub Total 1 </td>
                                                <td class="col-md-2"> Sum of Insurance  </td>
                                            </tr>
                                        </thead>
                                        <tbody id="tbodyTotalAmountCalculation">
                                            <tr>
                                                <td class="col-md-2"> @Html.TextBox("Total_Rate", null, new { id = "Total_Rate", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfTotal", null, new { id = "SumOfTotalVal", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfPacking", null, new { id = "SumOfPackingCharge", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfCartageAmt", null, new { id = "SumOfCartageAll1Amt", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfSubTotal1", null, new { id = "SumOfSubTotalAll1Amt", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfInsurance", null, new { id = "SumOfInsuranceAmt", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="row">

                            <div class="col-md-12">

                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <td class="col-md-2"> Sum of Sub Total 2  </td>
                                                <td class="col-md-2"> Sum Of CGST  </td>
                                                <td class="col-md-2"> Sum Of SGST/UTGST  </td>
                                                <td class="col-md-2"> Sum Of IGST </td>
                                                <td class="col-md-2"> Sum of Total GST  </td>
                                                <td class="col-md-2"> Sum of Gross Amount  </td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="col-md-2"> @Html.TextBox("SumOfTotalSub2", null, new { id = "SumOf_total_Sub_2", @class = "form-control gui-input required", @readonly = "readonly" })</td>
                                                <td class="col-md-2"> @Html.TextBox("Total_SumOf_CGST", null, new { id = "Total_SumOf_CGST", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfTotalSGST/UTGST", null, new { id = "SumOfSGSTAndUTGST_Amt", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfIGST", null, new { id = "SumOf_IGST_Amt", @class = "form-control gui-input required", @readonly = "readonly" })   </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfTotalGSTAmt", null, new { id = "SumOfAll_GST_amt", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                                <td class="col-md-2"> @Html.TextBox("SumOfAllGrossTotal", null, new { id = "SumOfAll_Gross_Total_amt", @class = "form-control gui-input required", @readonly = "readonly" }) </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
    
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <table class="table">
                                    <tr>
                                        <td width="80">Send To</td>
                                        <td>
                                            <label class="field select" style="width:200px;">
                                                @Html.DropDownList("Employee", null, htmlAttributes: new { @id = "SendTo", @class = "form-control" })
                                                <i class="arrow"></i>
                                            </label>
                                        </td>
                                    </tr>
                                </table>  
                            </div>
                        </div>


                        @*<div class="row">
                            <div class="col-md-6">
                                <div class="section">
                                    <label class="field prepend-icon">
                                        @Html.TextBox("Rupees", null, new { id = "Rupees", @class = "form-control gui-input required", @placeholder = "Amount in Word" })


                                    </label>
                                </div>
                            </div>*@
                            @*<div class="col-md-6" style="display:none" id="po_pmcoutlimit">
                    <label class="field select">
                        @Html.DropDownList("Employee", null, "Forward For Approval", htmlAttributes: new { @id = "Employee", @class = "form-control" })

                        @Html.DropDownList("Employee", new SelectList(string.Empty, "Value", "Text"), "Forward For Approval", htmlAttributes: new { @id = "Employee", @class = "form-control" })


                        <i class="arrow"></i>
                    </label>

                </div>*@
                            @*<div class="col-md-6" id="po_purinlimit">
                    <label class="field select">
                        @Html.DropDownList("PMCEmployee", null, "Forward For Approval", htmlAttributes: new { @id = "PMCEmployee", @class = "form-control" })

                        @Html.DropDownList("PMCEmployee", new SelectList(string.Empty, "Value", "Text"), "Forward For Approval", htmlAttributes: new { @id = "PMCEmployee", @class = "form-control" })


                        <i class="arrow"></i>
                    </label>

                </div>*@
                            @*</div>*@

                            @*<div class="row">
                    <div class="col-md-6">
                        <div class="section">
                            <label class="field prepend-icon">
                                @Html.TextArea("Remarks", null, new { id = "PORemarks", @class = "form-control gui-input required", @placeholder = "Remarks" })
                            </label>
                        </div>
                    </div>
                </div>*@

                        @*</div>*@
                        <div class="col-md-12">
                            @*<input  type="button" value="test" id="test_myval_nowtst" />*@

                            <input type="button" class="btn btn-danger" value="Calculate" onclick="RateSum()" />

                            <input type="button" class="btn btn-primary" value="Create" id="btnCreate" />
                            @*<input type="button" name="sr1" value="Click Here" onClick="testSkill()" />*@
                            <div style="visibility:hidden;" id="container"></div>
                            @*@Html.ActionLink("Print PO Slip", "Index", "Print_PO_Slip", null, new { @class = "btn btn-system" })*@
                        </div>


                    </div>
                </form>
            </div>
        </div>
        <!-- end: .tray-center -->
        <!-- begin: .tray-right -->
        <!-- end: .tray-right -->




    </section>
    <!-- End: Content -->
</section>

<div class="modal fade" id="loadingModal" role="dialog">
    <div class="modal-dialog modal-sm">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body text-center">
                <img src="~/Images/36.gif" />
            </div>
        </div>
    </div>
</div>

<div id="dialog-podetails" style="display: none" data="">

</div>